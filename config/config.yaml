# GPU-Insight 主配置文件

project:
  name: "GPU-Insight"
  version: "1.0.0"
  description: "显卡用户痛点智能分析系统"

# 运行模式
runtime:
  cycle_interval_hours: 4
  timezone: "Asia/Shanghai"

# 轻量模式（低峰时段降级运行）
lite_mode:
  enabled: false  # DeepSeek-V3 夜间稳定，暂不需要
  hours: [0, 1, 2, 3, 4, 5, 6]  # 00:00-06:59 自动启用
  skip_sources: ["bilibili", "reddit"]  # 跳过不稳定源
  skip_steps: ["ai_filter", "hidden_needs", "munger"]  # 跳过高成本 AI 步骤
  llm_timeout_multiplier: 2.0  # LLM 超时翻倍

# Agent Teams 配置
agent_teams:
  enabled: false  # Phase 1 先关闭，验证流程
  features:
    parallel_scraping: true
    expert_council: true
    dynamic_team: false
  fallback:
    mode: "serial"
    serial:
      simulate_roles: true
      timeout: 7200

# LLM 配置
llm:
  # 深度推理任务（痛点提取、隐藏需求推导、Munger审查）
  reasoning:
    provider: "zhipu"
    model: "deepseek-ai/DeepSeek-V3"
    max_tokens: 4096
    temperature: 0.3
  # 简单任务（分类、过滤、语义去重）
  simple:
    provider: "zhipu"
    model: "THUDM/glm-4-9b-chat"
    max_tokens: 2048
    temperature: 0.2

# 成本控制
cost:
  monthly_budget_usd: 80
  alert_thresholds:
    warning: 0.8
    downgrade: 0.9
    pause: 0.95
    stop: 1.0

# 数据源配置
sources:
  chiphell:
    enabled: false  # 567 error, site blocking
    weight: 1.0
    interval_hours: 4
    url: "https://www.chiphell.com"
    sections: ["显卡", "硬件"]
  reddit:
    enabled: true
    weight: 0.9
    interval_hours: 4
    subreddits: ["nvidia", "amd", "hardware"]
  nga:
    enabled: true
    weight: 0.8
    interval_hours: 4
    url: "https://bbs.nga.cn"
    sections: ["硬件区"]
  tieba:
    enabled: false
    daytime_only: false  # 百度贴吧反爬严格(403)，暂时完全禁用
    weight: 0.6
    interval_hours: 6
  rog:
    enabled: false  # Phase 2
    weight: 0.7
    interval_hours: 6
  twitter:
    enabled: false  # Phase 2
    weight: 0.5
    interval_hours: 8
  guru3d:
    enabled: false  # Phase 2
    weight: 0.8
    interval_hours: 6
  videocardz:
    enabled: true
    weight: 0.85
    interval_hours: 4
  bilibili:
    enabled: true
    weight: 0.75
    interval_hours: 4
  v2ex:
    enabled: true
    weight: 0.7
    interval_hours: 4
  mydrivers:
    enabled: true
    weight: 0.75
    interval_hours: 4
  techpowerup:
    enabled: true
    weight: 0.85
    interval_hours: 4

# PPHI 算法权重（5 维模型）
pphi:
  weights:
    frequency: 0.30
    source_quality: 0.20
    interaction: 0.15
    cross_platform: 0.15
    freshness: 0.20
  decay_rate_per_day: 0.05

# 数据路径
paths:
  raw_data: "data/raw"
  processed_data: "data/processed"
  archive: "data/archive"
  reports: "outputs/daily_reports"
  rankings: "outputs/pphi_rankings"
  logs: "logs"
